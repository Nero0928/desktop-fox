<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Desktop Fox ç²¾éˆåœ–ç”Ÿæˆå™¨</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, sans-serif;
      padding: 20px;
      background: #1a1a2e;
      color: #eee;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
    }
    h1 {
      color: #ff6b6b;
    }
    .sprite-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }
    .sprite-card {
      background: #16213e;
      border-radius: 12px;
      padding: 15px;
      text-align: center;
    }
    .sprite-card h3 {
      margin-top: 0;
      color: #ff6b6b;
    }
    canvas {
      border-radius: 8px;
      background: #2d3561;
      margin: 10px 0;
    }
    button {
      background: #ff6b6b;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      margin: 5px;
    }
    button:hover {
      background: #ff5252;
    }
    .info {
      background: #0f3460;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
    }
    code {
      background: #16213e;
      padding: 2px 6px;
      border-radius: 4px;
      font-family: 'Courier New', monospace;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ¦Š Desktop Fox ç²¾éˆåœ–ç”Ÿæˆå™¨</h1>
    
    <div class="info">
      <p>é€™å€‹å·¥å…·æœƒç”Ÿæˆåƒç´ é¢¨æ ¼çš„ç‹ç‹¸å‹•ç•«ç²¾éˆåœ–ï¼Œç”¨æ–¼ Desktop Fox æ¡Œå¯µã€‚</p>
      <p>é»æ“Šã€Œä¸‹è¼‰ã€æŒ‰éˆ•ä¿å­˜æ¯å€‹å‹•ç•«çš„ PNG æª”æ¡ˆåˆ° <code>assets/sprites/</code> ç›®éŒ„ã€‚</p>
    </div>

    <div class="sprite-grid">
      <div class="sprite-card">
        <h3>idle (å¾…æ©Ÿ)</h3>
        <canvas id="idle" width="200" height="250"></canvas>
        <br>
        <button onclick="downloadSprite('idle')">ä¸‹è¼‰ idle.png</button>
      </div>
      
      <div class="sprite-card">
        <h3>happy (é–‹å¿ƒ)</h3>
        <canvas id="happy" width="200" height="250"></canvas>
        <br>
        <button onclick="downloadSprite('happy')">ä¸‹è¼‰ happy.png</button>
      </div>
      
      <div class="sprite-card">
        <h3>eating (åƒæ±è¥¿)</h3>
        <canvas id="eating" width="200" height="250"></canvas>
        <br>
        <button onclick="downloadSprite('eating')">ä¸‹è¼‰ eating.png</button>
      </div>
      
      <div class="sprite-card">
        <h3>sleeping (ç¡è¦º)</h3>
        <canvas id="sleeping" width="200" height="250"></canvas>
        <br>
        <button onclick="downloadSprite('sleeping')">ä¸‹è¼‰ sleeping.png</button>
      </div>
      
      <div class="sprite-card">
        <h3>talking (èªªè©±)</h3>
        <canvas id="talking" width="200" height="250"></canvas>
        <br>
        <button onclick="downloadSprite('talking')">ä¸‹è¼‰ talking.png</button>
      </div>
      
      <div class="sprite-card">
        <h3>sad (é›£é)</h3>
        <canvas id="sad" width="200" height="250"></canvas>
        <br>
        <button onclick="downloadSprite('sad')">ä¸‹è¼‰ sad.png</button>
      </div>
    </div>
  </div>

  <script>
    // ç¹ªè£½ç‹ç‹¸çš„è¼”åŠ©å‡½æ•¸
    function drawFox(ctx, state, frame = 0) {
      const centerX = 100;
      const centerY = 140;
      
      // æ¸…é™¤ç•«å¸ƒ
      ctx.clearRect(0, 0, 200, 250);
      
      // å‹•ç•«åç§»
      let bounceY = 0;
      if (state === 'idle') bounceY = Math.sin(frame * 0.1) * 3;
      if (state === 'happy') bounceY = Math.abs(Math.sin(frame * 0.2)) * -10;
      if (state === 'eating') bounceY = Math.sin(frame * 0.3) * 2;
      
      const y = centerY + bounceY;
      
      // èº«é«”é¡è‰²
      const furColor = '#ff8c42';
      const furDark = '#e67e22';
      const bellyColor = '#ffe4c4';
      const white = '#ffffff';
      
      // ç¹ªè£½å°¾å·´
      ctx.save();
      ctx.translate(centerX + 40, y + 30);
      if (state === 'happy') ctx.rotate(Math.sin(frame * 0.2) * 0.3);
      ctx.fillStyle = furColor;
      ctx.beginPath();
      ctx.ellipse(0, 0, 35, 50, 0.3, 0, Math.PI * 2);
      ctx.fill();
      ctx.fillStyle = white;
      ctx.beginPath();
      ctx.ellipse(5, 20, 15, 20, 0.3, 0, Math.PI * 2);
      ctx.fill();
      ctx.restore();
      
      // ç¹ªè£½èº«é«”
      ctx.fillStyle = furColor;
      ctx.beginPath();
      ctx.ellipse(centerX, y + 40, 45, 55, 0, 0, Math.PI * 2);
      ctx.fill();
      
      // è‚šçš®
      ctx.fillStyle = bellyColor;
      ctx.beginPath();
      ctx.ellipse(centerX, y + 45, 25, 35, 0, 0, Math.PI * 2);
      ctx.fill();
      
      // ç¹ªè£½é ­éƒ¨
      ctx.fillStyle = furColor;
      ctx.beginPath();
      ctx.arc(centerX, y - 20, 50, 0, Math.PI * 2);
      ctx.fill();
      
      // è€³æœµ
      const earOffset = state === 'sad' ? 0.2 : -0.2;
      
      // å·¦è€³
      ctx.save();
      ctx.translate(centerX - 30, y - 55);
      ctx.rotate(earOffset);
      ctx.fillStyle = furColor;
      ctx.beginPath();
      ctx.moveTo(0, 0);
      ctx.lineTo(-15, -35);
      ctx.lineTo(15, -5);
      ctx.closePath();
      ctx.fill();
      ctx.fillStyle = '#ffb6c1';
      ctx.beginPath();
      ctx.moveTo(-2, -5);
      ctx.lineTo(-8, -25);
      ctx.lineTo(5, -8);
      ctx.closePath();
      ctx.fill();
      ctx.restore();
      
      // å³è€³
      ctx.save();
      ctx.translate(centerX + 30, y - 55);
      ctx.rotate(-earOffset);
      ctx.fillStyle = furColor;
      ctx.beginPath();
      ctx.moveTo(0, 0);
      ctx.lineTo(15, -35);
      ctx.lineTo(-15, -5);
      ctx.closePath();
      ctx.fill();
      ctx.fillStyle = '#ffb6c1';
      ctx.beginPath();
      ctx.moveTo(2, -5);
      ctx.lineTo(8, -25);
      ctx.lineTo(-5, -8);
      ctx.closePath();
      ctx.fill();
      ctx.restore();
      
      // è‡‰éƒ¨è¡¨æƒ…
      const eyeY = y - 25;
      
      if (state === 'sleeping') {
        // é–‰çœ¼ç¡è¦º
        ctx.strokeStyle = '#333';
        ctx.lineWidth = 3;
        ctx.beginPath();
        ctx.arc(centerX - 20, eyeY, 10, 0.2, Math.PI - 0.2);
        ctx.stroke();
        ctx.beginPath();
        ctx.arc(centerX + 20, eyeY, 10, 0.2, Math.PI - 0.2);
        ctx.stroke();
        
        // ç¡è¦ºæ³¡æ³¡
        ctx.fillStyle = '#87ceeb';
        ctx.beginPath();
        ctx.arc(centerX + 45, y - 40, 8, 0, Math.PI * 2);
        ctx.fill();
        ctx.beginPath();
        ctx.arc(centerX + 55, y - 50, 5, 0, Math.PI * 2);
        ctx.fill();
      } else {
        // çœ¼ç›
        const eyeOpen = state === 'eating' && frame % 20 < 5 ? 0.1 : 1;
        
        ctx.fillStyle = '#333';
        // å·¦çœ¼
        ctx.beginPath();
        ctx.ellipse(centerX - 20, eyeY, 8, 12 * eyeOpen, 0, 0, Math.PI * 2);
        ctx.fill();
        // å³çœ¼
        ctx.beginPath();
        ctx.ellipse(centerX + 20, eyeY, 8, 12 * eyeOpen, 0, 0, Math.PI * 2);
        ctx.fill();
        
        // çœ¼ç¥å…‰
        ctx.fillStyle = white;
        ctx.beginPath();
        ctx.arc(centerX - 17, eyeY - 4, 3, 0, Math.PI * 2);
        ctx.fill();
        ctx.beginPath();
        ctx.arc(centerX + 23, eyeY - 4, 3, 0, Math.PI * 2);
        ctx.fill();
      }
      
      // é¼»å­
      ctx.fillStyle = '#333';
      ctx.beginPath();
      ctx.arc(centerX, y - 5, 5, 0, Math.PI * 2);
      ctx.fill();
      
      // å˜´å·´
      ctx.strokeStyle = '#333';
      ctx.lineWidth = 2;
      ctx.beginPath();
      if (state === 'happy' || state === 'talking') {
        // é–‹å¿ƒ/èªªè©±
        ctx.arc(centerX, y + 5, 10, 0, Math.PI);
        ctx.stroke();
      } else if (state === 'sad') {
        // é›£é
        ctx.arc(centerX, y + 15, 8, Math.PI, 0);
        ctx.stroke();
      } else if (state === 'eating') {
        // åƒæ±è¥¿
        ctx.fillStyle = '#ff6b6b';
        ctx.beginPath();
        ctx.arc(centerX, y + 8, 8, 0, Math.PI * 2);
        ctx.fill();
        // é£Ÿç‰©
        ctx.fillStyle = '#8b4513';
        ctx.beginPath();
        ctx.arc(centerX, y - 5, 6, 0, Math.PI * 2);
        ctx.fill();
      } else {
        // æ™®é€šå¾®ç¬‘
        ctx.arc(centerX, y + 8, 8, 0.2, Math.PI - 0.2);
        ctx.stroke();
      }
      
      // è‡‰é °ç´…æšˆï¼ˆé–‹å¿ƒæ™‚æ›´æ˜é¡¯ï¼‰
      if (state === 'happy' || state === 'idle') {
        ctx.fillStyle = 'rgba(255, 182, 193, 0.4)';
        ctx.beginPath();
        ctx.arc(centerX - 35, y - 5, 10, 0, Math.PI * 2);
        ctx.fill();
        ctx.beginPath();
        ctx.arc(centerX + 35, y - 5, 10, 0, Math.PI * 2);
        ctx.fill();
      }
      
      // æ‰‹/è…³
      ctx.fillStyle = furColor;
      // å·¦æ‰‹
      ctx.beginPath();
      ctx.ellipse(centerX - 35, y + 30, 12, 18, 0.3, 0, Math.PI * 2);
      ctx.fill();
      // å³æ‰‹
      ctx.beginPath();
      ctx.ellipse(centerX + 35, y + 30, 12, 18, -0.3, 0, Math.PI * 2);
      ctx.fill();
      
      // è…³
      ctx.fillStyle = furDark;
      ctx.beginPath();
      ctx.ellipse(centerX - 20, y + 85, 15, 10, 0, 0, Math.PI * 2);
      ctx.fill();
      ctx.beginPath();
      ctx.ellipse(centerX + 20, y + 85, 15, 10, 0, 0, Math.PI * 2);
      ctx.fill();
    }

    // ç‚ºæ¯å€‹ç‹€æ…‹ç”Ÿæˆéœæ…‹é è¦½
    const states = ['idle', 'happy', 'eating', 'sleeping', 'talking', 'sad'];
    
    states.forEach(state => {
      const canvas = document.getElementById(state);
      const ctx = canvas.getContext('2d');
      drawFox(ctx, state, 0);
    });

    // å‹•ç•«å¾ªç’°
    let frame = 0;
    function animate() {
      frame++;
      states.forEach(state => {
        const canvas = document.getElementById(state);
        const ctx = canvas.getContext('2d');
        drawFox(ctx, state, frame);
      });
      requestAnimationFrame(animate);
    }
    animate();

    // ä¸‹è¼‰åŠŸèƒ½
    function downloadSprite(state) {
      const canvas = document.getElementById(state);
      const link = document.createElement('a');
      link.download = `${state}.png`;
      link.href = canvas.toDataURL('image/png');
      link.click();
    }
  </script>
</body>
</html>
